<roblox xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.roblox.com/roblox.xsd" version="4">
	<External>null</External>
	<External>nil</External>
	<Item class="Tool" referent="RBX0">
		<Properties>
			<bool name="CanBeDropped">true</bool>
			<bool name="Enabled">true</bool>
			<CoordinateFrame name="Grip">
				<X>0</X>
				<Y>0</Y>
				<Z>0.25</Z>
				<R00>1</R00>
				<R01>0</R01>
				<R02>0</R02>
				<R10>0</R10>
				<R11>1</R11>
				<R12>0</R12>
				<R20>0</R20>
				<R21>0</R21>
				<R22>1</R22>
			</CoordinateFrame>
			<string name="Name">TrollPet</string>
			<Content name="TextureId"><url>http://www.roblox.com/asset/?id=88103189 </url></Content>
			<string name="ToolTip"></string>
		</Properties>
		<Item class="Part" referent="RBX1">
			<Properties>
				<bool name="Anchored">false</bool>
				<float name="BackParamA">-0.5</float>
				<float name="BackParamB">0.5</float>
				<token name="BackSurface">0</token>
				<token name="BackSurfaceInput">0</token>
				<float name="BottomParamA">-0.5</float>
				<float name="BottomParamB">0.5</float>
				<token name="BottomSurface">4</token>
				<token name="BottomSurfaceInput">0</token>
				<int name="BrickColor">194</int>
				<CoordinateFrame name="CFrame">
					<X>-2.11518335</X>
					<Y>56.7950096</Y>
					<Z>3.10688686</Z>
					<R00>-1</R00>
					<R01>0</R01>
					<R02>-0</R02>
					<R10>-0</R10>
					<R11>1</R11>
					<R12>-0</R12>
					<R20>-0</R20>
					<R21>0</R21>
					<R22>-1</R22>
				</CoordinateFrame>
				<bool name="CanCollide">true</bool>
				<float name="Elasticity">0.5</float>
				<float name="Friction">0.300000012</float>
				<float name="FrontParamA">-0.5</float>
				<float name="FrontParamB">0.5</float>
				<token name="FrontSurface">0</token>
				<token name="FrontSurfaceInput">0</token>
				<float name="LeftParamA">-0.5</float>
				<float name="LeftParamB">0.5</float>
				<token name="LeftSurface">0</token>
				<token name="LeftSurfaceInput">0</token>
				<bool name="Locked">true</bool>
				<token name="Material">256</token>
				<string name="Name">Handle</string>
				<float name="Reflectance">0</float>
				<float name="RightParamA">-0.5</float>
				<float name="RightParamB">0.5</float>
				<token name="RightSurface">0</token>
				<token name="RightSurfaceInput">0</token>
				<Vector3 name="RotVelocity">
					<X>0</X>
					<Y>0</Y>
					<Z>0</Z>
				</Vector3>
				<float name="TopParamA">-0.5</float>
				<float name="TopParamB">0.5</float>
				<token name="TopSurface">3</token>
				<token name="TopSurfaceInput">0</token>
				<float name="Transparency">0</float>
				<Vector3 name="Velocity">
					<X>0</X>
					<Y>0</Y>
					<Z>0</Z>
				</Vector3>
				<token name="formFactorRaw">3</token>
				<token name="shape">1</token>
				<Vector3 name="size">
					<X>0.979999483</X>
					<Y>1.48999989</Y>
					<Z>0.590004444</Z>
				</Vector3>
			</Properties>
			<Item class="SpecialMesh" referent="RBX2">
				<Properties>
					<token name="LODX">2</token>
					<token name="LODY">2</token>
					<Content name="MeshId"><url>http://www.roblox.com/asset/?id=88103227 </url></Content>
					<token name="MeshType">5</token>
					<string name="Name">Mesh</string>
					<Vector3 name="Offset">
						<X>0</X>
						<Y>0</Y>
						<Z>0</Z>
					</Vector3>
					<Vector3 name="Scale">
						<X>0.5</X>
						<Y>0.5</Y>
						<Z>0.5</Z>
					</Vector3>
					<Content name="TextureId"><url>http://www.roblox.com/asset/?id=88096550 </url></Content>
					<Vector3 name="VertexColor">
						<X>1</X>
						<Y>1</Y>
						<Z>1</Z>
					</Vector3>
				</Properties>
			</Item>
			<Item class="Sound" referent="RBX3">
				<Properties>
					<bool name="Looped">false</bool>
					<string name="Name">Laugh1</string>
					<float name="Pitch">1</float>
					<bool name="PlayOnRemove">false</bool>
					<Content name="SoundId"><url>http://www.roblox.com/asset/?id=88108591</url></Content>
					<float name="Volume">1</float>
				</Properties>
			</Item>
			<Item class="Sound" referent="RBX4">
				<Properties>
					<bool name="Looped">false</bool>
					<string name="Name">Laugh2</string>
					<float name="Pitch">1</float>
					<bool name="PlayOnRemove">false</bool>
					<Content name="SoundId"><url>http://www.roblox.com/asset/?id=88108663</url></Content>
					<float name="Volume">1</float>
				</Properties>
			</Item>
			<Item class="Sound" referent="RBX5">
				<Properties>
					<bool name="Looped">false</bool>
					<string name="Name">Laugh3</string>
					<float name="Pitch">1</float>
					<bool name="PlayOnRemove">false</bool>
					<Content name="SoundId"><url>http://www.roblox.com/asset/?id=88108686</url></Content>
					<float name="Volume">1</float>
				</Properties>
			</Item>
		</Item>
		<Item class="LocalScript" referent="RBX6">
			<Properties>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">Local Gui</string>
				<ProtectedString name="Source">local Tool = script.Parent

local sg
local frame

local stillEquipped = false

local function onEquippedLocal(mouse)
&#9;stillEquipped = true

&#9;local vPlayer = game.Players:GetPlayerFromCharacter(Tool.Parent)
&#9;if vPlayer then
&#9;&#9;local playerGui = vPlayer:FindFirstChild(&quot;PlayerGui&quot;)
&#9;&#9;if playerGui and playerGui:FindFirstChild(&quot;PetGui&quot;) == nil then
&#9;&#9;&#9;sg = Instance.new(&quot;ScreenGui&quot;)
&#9;&#9;&#9;sg.Name = &quot;PetGui&quot;
&#9;&#9;&#9;sg.Parent = playerGui

&#9;&#9;&#9;frame = Instance.new(&quot;Frame&quot;)
&#9;&#9;&#9;frame.Parent = sg
&#9;&#9;&#9;frame.Size = UDim2.new(0, 220, 0, 30)
&#9;&#9;&#9;frame.Position = UDim2.new(0.5, -110, 1, -130)
&#9;&#9;&#9;frame.Style = Enum.FrameStyle.RobloxRound

&#9;&#9;&#9;local genericTextLabel = Instance.new(&quot;TextLabel&quot;)
&#9;&#9;&#9;genericTextLabel.BackgroundTransparency = 1.0
&#9;&#9;&#9;genericTextLabel.Size = UDim2.new(1, 0, 1, 0)
&#9;&#9;&#9;genericTextLabel.Visible = true
&#9;&#9;&#9;genericTextLabel.ZIndex = 10
&#9;&#9;&#9;genericTextLabel.FontSize = Enum.FontSize.Size10
&#9;&#9;&#9;genericTextLabel.Font = Enum.Font.Legacy
&#9;&#9;&#9;genericTextLabel.TextColor3 = Color3.new(0, 1, 0)
&#9;&#9;&#9;genericTextLabel.TextXAlignment = Enum.TextXAlignment.Center
&#9;&#9;&#9;genericTextLabel.TextYAlignment = Enum.TextYAlignment.Top
&#9;&#9;&#9;genericTextLabel.Parent = frame
&#9;&#9;&#9;genericTextLabel.Text = &quot;Summon the Troll!&quot;
&#9;&#9;end
&#9;end

&#9;if not mouse then return end

&#9;while stillEquipped do
&#9;&#9;mouse.Icon = &quot;rbxasset://textures\\GunCursor.png&quot;
&#9;&#9;while Tool.Enabled and stillEquipped do
&#9;&#9;&#9;wait(0.01)
&#9;&#9;end
&#9;&#9;mouse.Icon = &quot;rbxasset://textures\\GunWaitCursor.png&quot;
&#9;&#9;while not Tool.Enabled and stillEquipped do
&#9;&#9;&#9;wait(0.01)
&#9;&#9;end
&#9;end
end

local function onActivatedLocal()
&#9;if frame and frame:FindFirstChild(&quot;TextLabel&quot;) then
&#9;&#9;frame.TextLabel.Text = &quot;Click on a player to troll them!&quot;
&#9;end
end

local function onUnequippedLocal()
&#9;if sg then sg:Remove() end
&#9;stillEquipped = false
end

Tool.Equipped:connect(onEquippedLocal)
Tool.Activated:connect(onActivatedLocal)
Tool.Unequipped:connect(onUnequippedLocal)
</ProtectedString>
			</Properties>
		</Item>
		<Item class="Script" referent="RBX7">
			<Properties>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">PetToolScript</string>
				<ProtectedString name="Source">local Debris = Game:GetService(&quot;Debris&quot;)

local Tool = script.Parent
local ToolHandle = Tool.Handle

local laugh1Sound = ToolHandle:FindFirstChild(&quot;Laugh1&quot;)
local laugh2Sound = ToolHandle:FindFirstChild(&quot;Laugh2&quot;)
local laugh3Sound = ToolHandle:FindFirstChild(&quot;Laugh3&quot;)
local summonSounds = {laugh1Sound, laugh2Sound, laugh3Sound}
local currentSound = nil

local cooldown = 4 -- Seconds until Tool can be used again
local timeToLive = 60 -- Seconds until the pet is destroyed
local respawnTime = 4 -- Seconds until pet can be re-summoned (only after death)
local aiScriptName = &quot;TrollAi&quot; -- Name of the script that will be cloned to the player

local myModel
local myTorso
local myHumanoid

local pet
local aiScript

local function summon()
&#9;if not myTorso or not myHumanoid then return end

&#9;pet = Game:GetService(&quot;InsertService&quot;):LoadAsset(88117081):GetChildren()[1]
&#9;Debris:AddItem(pet, timeToLive) -- Make sure it will get deleted

&#9;if pet and pet:FindFirstChild(&quot;Humanoid&quot;) and pet.Humanoid.Health &gt; 0 then
&#9;&#9;pet.Parent = Workspace
&#9;&#9;ToolHandle.Transparency = 1.0

&#9;&#9;-- Play one of the summoning sounds
&#9;&#9;if summonSounds and #summonSounds &gt; 0 then
&#9;&#9;&#9;currentSound = summonSounds[math.random(#summonSounds)]
&#9;&#9;&#9;if currentSound then currentSound:Play() end
&#9;&#9;end

&#9;&#9;-- Clone original aiScript to myModel
&#9;&#9;local aiScriptOriginal = Tool:FindFirstChild(aiScriptName)
&#9;&#9;if aiScriptOriginal then
&#9;&#9;&#9;aiScript = aiScriptOriginal:Clone()
&#9;&#9;&#9;Debris:AddItem(aiScript, timeToLive)
&#9;&#9;&#9;aiScript.Parent = myModel

&#9;&#9;&#9;while not aiScript:FindFirstChild(&quot;Pet&quot;) do wait() end
&#9;&#9;&#9;aiScript.Pet.Value = pet

&#9;&#9;&#9;aiScript.Disabled = false
&#9;&#9;end

&#9;&#9;-- On pet death, clean up and show the handle
&#9;&#9;pet.Humanoid.Died:connect(function()
&#9;&#9;&#9;Debris:AddItem(aiScript, 0)
&#9;&#9;&#9;Debris:AddItem(pet, respawnTime)
&#9;&#9;&#9;wait(respawnTime)
&#9;&#9;&#9;ToolHandle.Transparency = 0.0
&#9;&#9;end)

&#9;&#9;-- After timeToLive, show the handle
&#9;&#9;coroutine.resume(coroutine.create(function()
&#9;&#9;&#9;wait(timeToLive + 0.1)
&#9;&#9;&#9;if not pet:FindFirstChild(&quot;Humanoid&quot;) then
&#9;&#9;&#9;&#9;ToolHandle.Transparency = 0.0
&#9;&#9;&#9;end
&#9;&#9;end))

&#9;&#9;-- Health has problems being set directly
&#9;&#9;pet.Humanoid:TakeDamage(-250)
&#9;&#9;while pet.Humanoid.Health &lt; 350 do
&#9;&#9;&#9;pet.Humanoid.Health = 350
&#9;&#9;&#9;wait()
&#9;&#9;end

&#9;&#9;pet:MoveTo(myTorso.Position + Vector3.new(math.random(-3, 3), 0, math.random(-3, 3)))
&#9;end
end

local function onActivated()
&#9;if not Tool.Enabled or not myTorso or not myHumanoid then return end

&#9;Tool.Enabled = false

&#9;if not pet or not pet.Parent then
&#9;&#9;summon()
&#9;end

&#9;-- Raycast to click location for ClickTarget setting
&#9;local target = myHumanoid.TargetPoint
&#9;local direction = (target - myTorso.Position).unit
&#9;local hit = Game.Workspace:FindPartOnRay(Ray.new(myTorso.Position, direction * 150), myModel)
&#9;if hit and pet and pet:FindFirstChild(&quot;ClickTarget&quot;) then
&#9;&#9;local clickedHumanoid = hit.Parent:FindFirstChild(&quot;Humanoid&quot;)
&#9;&#9;if clickedHumanoid and clickedHumanoid.Health &gt; 0 then
&#9;&#9;&#9;pet.ClickTarget.Value = clickedHumanoid
&#9;&#9;else
&#9;&#9;&#9;pet.ClickTarget.Value = nil
&#9;&#9;end
&#9;end

&#9;wait(cooldown)

&#9;Tool.Enabled = true
end

local function onEquipped()
&#9;myModel = Tool.Parent
&#9;myTorso = myModel:FindFirstChild(&quot;Torso&quot;)
&#9;myHumanoid = myModel:FindFirstChild(&quot;Humanoid&quot;)
end

local function onUnequipped()
&#9;if pet then pet:Destroy() end
&#9;if aiScript then aiScript:Destroy() end
&#9;if currentSound then currentSound:Stop() end
&#9;ToolHandle.Transparency = 0.0
end

Tool.Activated:connect(onActivated)
Tool.Equipped:connect(onEquipped)
Tool.Unequipped:connect(onUnequipped)
</ProtectedString>
			</Properties>
		</Item>
		<Item class="Script" referent="RBX8">
			<Properties>
				<bool name="Disabled">true</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">TrollAi</string>
				<ProtectedString name="Source">-- Troll Constants --

local offset = Vector3.new(5, 0, 5) -- Distance from player or target
local radius = 5 -- Radius of TrollMode2&apos;s orbit
local orbitSpeed = 5 -- Speed of TrollMode2&apos;s orbit
local trollTime = 10 -- Stop trolling after this much time

-- Script Children --

local myModel = script.Parent
local myHumanoid = myModel:FindFirstChild(&quot;Humanoid&quot;)

while not script:FindFirstChild(&quot;Pet&quot;) or not script.Pet.Value do wait() end
local pet = script.Pet.Value

while not pet:FindFirstChild(&quot;ClickTarget&quot;) do wait() end
local targetHumanoid = pet.ClickTarget.Value

-- Troll Variables --

while not pet:FindFirstChild(&quot;Humanoid&quot;) or not pet:FindFirstChild(&quot;Head&quot;) do wait() end

local petHumanoid = pet.Humanoid

local powSound = pet.Head:FindFirstChild(&quot;Pow&quot;)
local hornSound = pet.Head:FindFirstChild(&quot;Horn&quot;) --NOTE: Looped
local heySound = pet.Head:FindFirstChild(&quot;Hey&quot;)
local heyYouSound = pet.Head:FindFirstChild(&quot;HeyYou&quot;)

local petMode = 0
local startTime = 0
local lastHeyTime = 0

-- Functions --

local function start()
&#9;petMode = math.random(3)
&#9;startTime = time()
end

local function stop()
&#9;targetHumanoid = myHumanoid
&#9;if hornSound then hornSound:Stop() end
&#9;petMode = 0
end

-- Function that updates the target (when the player clicks)
pet.ClickTarget.Changed:connect(function(newValue)
&#9;if newValue and newValue:IsA(&quot;Humanoid&quot;) and newValue ~= petHumanoid then
&#9;&#9;targetHumanoid = newValue
&#9;&#9;if petMode == 0 then start() end
&#9;else
&#9;&#9;stop()
&#9;end
end)

-- Returns the closest living Humanoid to position who isn&apos;t in excludeList
local function findClosestHumanoid(position, excludeList) -- (Vector3, table)
&#9;if not position then print(&quot;Need a Vector3 position&quot;) return nil end

&#9;-- Change list values to keys so we can use indexing
&#9;local excludeSet = {}
&#9;if excludeList and type(excludeList) == &quot;table&quot; then
&#9;&#9;for _, l in ipairs(excludeList) do
&#9;&#9;&#9;excludeSet[l] = true
&#9;&#9;end
&#9;end

&#9;-- Search through workspace children
&#9;local list = Game.Workspace:getChildren()
&#9;local closestHumanoid = nil
&#9;for i = 1, #list do
&#9;&#9;item = list[i]
&#9;&#9;if (item and item:FindFirstChild(&quot;Humanoid&quot;) and item.Humanoid.Health &gt; 0 and not excludeSet[item.Humanoid])
&#9;&#9;and (not closestHumanoid or (item.Humanoid.Torso.Position - position).magnitude &lt; (closestHumanoid.Torso.Position - position).magnitude) then
&#9;&#9;&#9;closestHumanoid = item.Humanoid
&#9;&#9;end
&#9;end
&#9;return closestHumanoid --NOTE: Can be nil
end

-- Coroutine to decide when to automatically start
coroutine.resume(coroutine.create(function()
&#9;wait(4)
&#9;while pet do
&#9;&#9;if petMode == 0 and math.random() &lt; 0.33 then
&#9;&#9;&#9;targetHumanoid = findClosestHumanoid(myHumanoid.Torso.Position, {myHumanoid, petHumanoid})
&#9;&#9;&#9;if targetHumanoid then
&#9;&#9;&#9;&#9;start()
&#9;&#9;&#9;end
&#9;&#9;end
&#9;&#9;wait(6)
&#9;end
end))

-- Main Pet AI Loop

while true do
&#9;if not myHumanoid or not myHumanoid.Torso or not petHumanoid or not petHumanoid.Torso then break end

&#9;-- Jumping over obstacles
&#9;local hit = Game.Workspace:FindPartOnRay(Ray.new(petHumanoid.Torso.Position, petHumanoid.Torso.CFrame.lookVector * 3.0), myModel)
&#9;if hit then
&#9;&#9;petHumanoid.Jump = true
&#9;end

&#9;if not targetHumanoid or not targetHumanoid.Torso then
&#9;&#9;stop()
&#9;elseif petMode == 0 then -- Default: Follow the player
&#9;&#9;petHumanoid:MoveTo(myHumanoid.Torso.Position + offset, myHumanoid.Torso)
&#9;elseif petMode == 1 then -- Mode 1: Knock down the target
&#9;&#9;if time() - startTime &gt; trollTime then -- Give up trying to get to target
&#9;&#9;&#9;stop()
&#9;&#9;elseif (targetHumanoid.Torso.Position - petHumanoid.Torso.Position).magnitude &gt; offset.magnitude then -- Get up close
&#9;&#9;&#9;petHumanoid:MoveTo(targetHumanoid.Torso.Position, targetHumanoid.Torso)
&#9;&#9;else -- We&apos;ve reached the player, knock &apos;em out
&#9;&#9;&#9;petHumanoid.Jump = true
&#9;&#9;&#9;wait(0.25) -- Airtime
&#9;&#9;&#9;if targetHumanoid then
&#9;&#9;&#9;&#9;if powSound then powSound:Play() end
&#9;&#9;&#9;&#9;targetHumanoid.Sit = true
&#9;&#9;&#9;&#9;local slapForce = Instance.new(&quot;BodyForce&quot;, targetHumanoid.Torso)
&#9;&#9;&#9;&#9;slapForce.force = petHumanoid.Torso.CFrame.lookVector * 1500
&#9;&#9;&#9;&#9;Game:GetService(&quot;Debris&quot;):AddItem(slapForce, 0.4)
&#9;&#9;&#9;&#9;wait(0.4) -- Let it sink in
&#9;&#9;&#9;&#9;if targetHumanoid then targetHumanoid.Sit = false end
&#9;&#9;&#9;end
&#9;&#9;&#9;stop()
&#9;&#9;end
&#9;elseif petMode == 2 then -- Mode 2: Circle the target annoyingly
&#9;&#9;if time() - startTime &lt;= trollTime then
&#9;&#9;&#9;if hornSound and not hornSound.IsPlaying then hornSound:Play() end
&#9;&#9;&#9;local xPos = radius * math.cos(time() * orbitSpeed) + targetHumanoid.Torso.Position.x
&#9;&#9;&#9;local zPos = radius * math.sin(time() * orbitSpeed) + targetHumanoid.Torso.Position.z
&#9;&#9;&#9;local point = Vector3.new(xPos, 0, zPos)
&#9;&#9;&#9;petHumanoid:MoveTo(point, targetHumanoid.Torso)
&#9;&#9;else
&#9;&#9;&#9;stop()
&#9;&#9;end
&#9;elseif petMode == 3 then -- Mode 3: Follow the target at an uncomfortably close distance
&#9;&#9;if time() - startTime &lt;= trollTime then
&#9;&#9;&#9;if time() - lastHeyTime &gt; 1 then
&#9;&#9;&#9;&#9;if math.random(2) == 1 and heySound then
&#9;&#9;&#9;&#9;&#9;heySound:Play()
&#9;&#9;&#9;&#9;elseif heyYouSound then
&#9;&#9;&#9;&#9;&#9;heyYouSound:Play()
&#9;&#9;&#9;&#9;end
&#9;&#9;&#9;&#9;lastHeyTime = time()
&#9;&#9;&#9;end
&#9;&#9;&#9;local rightBehind = targetHumanoid.Torso.CFrame:pointToWorldSpace(Vector3.new(0, 0, 1))
&#9;&#9;&#9;petHumanoid:MoveTo(rightBehind, targetHumanoid.Torso)
&#9;&#9;&#9;if targetHumanoid.Jump then petHumanoid.Jump = true end
&#9;&#9;else
&#9;&#9;&#9;stop()
&#9;&#9;end
&#9;end

&#9;wait()
end
</ProtectedString>
			</Properties>
			<Item class="ObjectValue" referent="RBX9">
				<Properties>
					<string name="Name">Pet</string>
					<Ref name="Value">null</Ref>
				</Properties>
			</Item>
		</Item>
		<Item class="Camera" referent="RBX10">
			<Properties>
				<Ref name="CameraSubject">null</Ref>
				<token name="CameraType">0</token>
				<CoordinateFrame name="CoordinateFrame">
					<X>-2.11518335</X>
					<Y>57.1328049</Y>
					<Z>4.9295001</Z>
					<R00>1</R00>
					<R01>0</R01>
					<R02>-0</R02>
					<R10>-0</R10>
					<R11>0.983255506</R11>
					<R12>0.18223232</R12>
					<R20>0</R20>
					<R21>-0.18223232</R21>
					<R22>0.983255506</R22>
				</CoordinateFrame>
				<float name="FieldOfView">70</float>
				<CoordinateFrame name="Focus">
					<X>-2.11518335</X>
					<Y>56.7950096</Y>
					<Z>3.10688686</Z>
					<R00>1</R00>
					<R01>0</R01>
					<R02>0</R02>
					<R10>0</R10>
					<R11>1</R11>
					<R12>0</R12>
					<R20>0</R20>
					<R21>0</R21>
					<R22>1</R22>
				</CoordinateFrame>
				<string name="Name">ThumbnailCamera</string>
			</Properties>
		</Item>
	</Item>
</roblox>